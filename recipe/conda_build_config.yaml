# https://conda-forge.org/docs/maintainer/knowledge_base/#requiring-newer-macos-sdks
MACOSX_SDK_VERSION:  # [osx and x86_64]
  - 11.0            # [osx and x86_64]
MACOSX_DEPLOYMENT_TARGET:  # [osx and x86_64]
  - "11.0"                # [osx and x86_64]
channel_sources:
  - tiledb/label/for-cloud,conda-forge,tiledb  # [linux and x86]
  - conda-forge,tiledb
channel_targets:
  # FOR THIS PR
  # - tiledb main
  - tiledb experimental
channel_priority:
  - strict
# What follows is the "non-default stuff" block.
#
# We are telling conda-smithy that we want two different builds of linux-64:
# * standard: fmt 10, spdlog 1.12, tiledb channel
# * special for-cloud: fmt 9, spdlog 1.11, tiledb/label/for-cloud channel
# * For all the other builds: osx-64, osx-arm64, linux-aarch64, we just want conda-smithy to create
#   a single build with the current default pinnings
#
# conda-forge has migrated to fmt 10 and spdlog 1.12. We need fmt 9 to install
# into our existing TileDB Cloud conda environments, so we build a special
# variant of fmt 9 and spdlog 1.11. And because this can no longer solve with
# conda-forge depedencies, we install the "for-cloud" statically linked
# tiledb binary from tiledb/label/for-cloud -- see also 
# https://github.com/TileDB-Inc/tiledb-feedstock-for-cloud
fmt:                 # [linux and x86]
  - 9                # [linux and x86]
  - 10               # [linux and x86]
spdlog:              # [linux and x86]
  - 1.11             # [linux and x86]
  - 1.12             # [linux and x86]
zip_keys:            # [linux and x86]
  - channel_sources  # [linux and x86]
  - fmt              # [linux and x86]
  - spdlog           # [linux and x86]
